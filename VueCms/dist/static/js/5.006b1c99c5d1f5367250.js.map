{"version":3,"sources":["webpack:///src/components/goods/GoodsDetail.vue","webpack:///./src/components/goods/GoodsDetail.vue?7ca3","webpack:///./src/components/goods/GoodsDetail.vue"],"names":["GoodsDetail","name","data","isShow","goodsDetail","goodImages","num","created","_this","this","id","$route","query","$axios","all","get","$host","then","spread","resGood","resImgs","catch","err","console","log","methods","add","stock_quantity","subStract","addShopCart","connect","$emit","prodTools","addorUpdate","afterEnter","showComment","$cid","$router","push","showInfo","goods_GoodsDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","auto","_l","img","index","key","src","url","_s","market_price","sell_price","on","click","$event","type","after-enter","_e","_f","add_time","size","plain","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.006b1c99c5d1f5367250.js","sourcesContent":["<template>\n  <div class=\"tmpl\">\n    <nav-bar title=\"商品详情\"></nav-bar>\n    <div class=\"outer-swiper\">\n      <div class=\"swiper\">\n        <mt-swipe :auto=\"4000\"  class=\"mint-swipe\">\n          <mt-swipe-item v-for=\"(img,index) in goodImages\" :key=\"index\">\n            <a><img :src=\"img.url\"></a>\n          </mt-swipe-item>\n        </mt-swipe>\n      </div>\n    </div>\n    <div class=\"product-desc\">\n      <ul>\n        <li><span class=\"product-desc-span\">\n          {{goodsDetail.title}}\n        </span></li>\n        <li class=\"price-li\">市场价：\n          <s>¥{{goodsDetail.market_price}}</s>销售价：<span>¥{{goodsDetail.sell_price}}</span>\n        </li>\n        <li class=\"number-li\">购买数量：<span @click=\"subStract()\">-</span><span @click=\"add()\">{{num}}</span>\n          <span>+</span></li>\n      </ul>\n      <li>\n        <mt-button type=\"primary\">立即购买</mt-button>\n        <mt-button type=\"danger\" @click=\"addShopCart()\">加入购物车</mt-button>\n      </li>\n    </div>\n    <transition name=\"ball\" @after-enter=\"afterEnter\">\n      <div class=\"ball\" v-if=\"isShow\"></div>\n    </transition>\n    <div class=\"product-props\">\n      <ul>\n        <li>商品参数</li>\n        <li>商品货号：123456</li>\n        <li>库存情况：{{goodsDetail.stock_quantity}}件</li>\n        <li>上架时间：{{goodsDetail.add_time|filterTime}}</li>\n      </ul>\n    </div>\n    <div class=\"product-info\">\n      <ul>\n        <li>\n          <mt-button @click=\"showInfo()\" type=\"primary\" size=\"large\" plain>图文介绍</mt-button>\n        </li>\n        <li>\n          <mt-button  @click=\"showComment()\" type=\"danger\" size=\"large\" plain>商品评论</mt-button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\n  import connect from '../common/connect.js'\n  import prodTools from '../common/prodTools.js'\n    export default {\n        name: \"GoodsDetail\",\n      data(){\n          return{\n            isShow:false,//是否显示小球\n            goodsDetail:{},//商品数据\n            goodImages:[],//轮播图\n            num:1,//购买数量\n          }\n      },\n      created(){\n          // 获取商品ID\n        let id = this.$route.query.id;\n        // // 1.获取商品详情数据\n        // this.$axios.get('/api/goodsdetail/'+id)\n        //   .then(res=>{\n        //     console.log(res.data.data);\n        //     this.goodsDetail = res.data.data;\n        //   })\n        //   .catch(err=>{\n        //     console.log(err);\n        //   })\n        // // 获取去商品轮播图\n        // this.$axios.get('/api/goodimages/'+id)\n        //   .then(res=>{\n        //     console.log(res.data.data);\n        //     this.goodImages = res.data.data;\n        //   })\n        //   .catch(err=>{\n        //     console.log(err);\n        //   })\n        // 使用合并请求\n        this.$axios.all([\n          this.$axios.get(this.$host+'/api/goodsdetail/'+id),\n          this.$axios.get(this.$host+'/api/goodimages/'+id)\n        ])\n        .then(this.$axios.spread((resGood,resImgs)=>{\n          this.goodsDetail = resGood.data.data;\n          this.goodImages = resImgs.data.data;\n        }))\n        .catch(err=>{\n          console.log(err);\n        })\n      },\n      methods:{\n        add(){\n          if(this.num >= this.goodsDetail.stock_quantity) return;\n          this.num++;\n        },\n        subStract(){\n          if(this.num <= 1) return;\n          this.num--;\n        },\n        addShopCart(){\n          connect.$emit('addShopCart',this.num);\n          //让小球飞起来\n          this.isShow = true;\n          //购买数量添加到购物车\n          prodTools.addorUpdate({\n            id:this.goodsDetail.id,\n            num:this.num,\n          })\n        },\n        //处理过渡后\n        afterEnter(){\n          this.isShow = false;\n        },\n        //跳转到商品评论页面\n        showComment(){\n          let $cid = this.$route.query.id;\n          this.$router.push({\n            name:\"goods.comment\",\n            query:{id:$cid}\n          })\n        },\n        //跳转到图文详情\n        showInfo(){\n          let $cid = this.$route.query.id;\n          this.$router.push({\n            name:\"goods.info\",\n            query:{id:$cid}\n          })\n        }\n      }\n    }\n</script>\n\n<style scoped>\n  /*轮播图样式*/\n  .mint-swipe{\n    height: 200px;\n    background-color: #b42c29;\n  }\n  img{\n    width: 100%;\n    height: 100%;\n  }\n  .ball-enter-active{\n    animation: bounce-in .5s;\n  }\n  @keyframes bounce-in {\n    0%{\n      transform: translate3d(0,0,0);\n    }\n    50%{\n      transform: translate3d(140px,-50px,0);\n    }\n    75%{\n      transform: translate3d(160px,0px,0);\n    }\n    100%{\n      transform: translate3d(140px,300px,0);\n    }\n  }\n  .swiper{\n    border: 1px solid rgba(0,0,0,0.2);\n    margin: 8px;\n    width: 95%;\n    border-radius: 15px;\n    overflow: hidden;\n  }\n  .outer-swiper,\n  .product-desc,\n  .product-props,\n  .product-info{\n    border-radius: 5px;\n    border: 1px solid rgba(0,0,0,0.2);\n    margin: 3px;\n  }\n  .outer-swiper ul,\n  .product-desc ul,\n  .product-info ul{\n    padding: 0;\n  }\n  .product-desc ul li,\n  .product-props ul li,\n  .product-info ul li{\n    list-style: none;\n    font-size: 15px;\n    color: rgba(0,0,0,0.5);\n    margin-top: 8px;\n  }\n  .product-desc ul>:nth-child(1) span{\n    color: blue;\n    font-size: 22px;\n    font-weight: bold;\n  }\n  .product-desc ul>:nth-child(1){\n    border-bottom: 1px solid rgba(0,0,0,0.5);\n  }\n  .product-desc ul,\n  .product-info ul,\n  .product-props ul{\n    padding-left: 10px;\n  }\n  .price-li span{\n    color: red;\n    font-size: 25px;\n  }\n  price-li s{\n    margin-left: 16px;\n  }\n  /*加减*/\n  .number-li span{\n    display: inline-block;\n    border: 2px solid rgba(0,0,0,0.1);\n    width: 25px;\n  }\n  /*商品参数*/\n  .product-props ul:nth-child(1){\n    text-align: left;\n  }\n  .product-props ul:not(:nth-child(1)){\n    margin-left: 40px;\n  }\n  .product-li ul{\n    margin-bottom: 70px;\n    padding: 0 5px;\n  }\n  .number-li span{\n    text-align: center;\n  }\n  .number-li > :nth-child(2){\n    width: 40px;\n  }\n  .ball{\n    border-radius: 50%;\n    background-color: red;\n    width: 24px;\n    height: 24px;\n    position: absolute;\n    top: 440px;\n    left: 120px;\n    display: inline-block;\n    z-index: 9999;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/goods/GoodsDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tmpl\"},[_c('nav-bar',{attrs:{\"title\":\"商品详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"outer-swiper\"},[_c('div',{staticClass:\"swiper\"},[_c('mt-swipe',{staticClass:\"mint-swipe\",attrs:{\"auto\":4000}},_vm._l((_vm.goodImages),function(img,index){return _c('mt-swipe-item',{key:index},[_c('a',[_c('img',{attrs:{\"src\":img.url}})])])}))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"product-desc\"},[_c('ul',[_c('li',[_c('span',{staticClass:\"product-desc-span\"},[_vm._v(\"\\n        \"+_vm._s(_vm.goodsDetail.title)+\"\\n      \")])]),_vm._v(\" \"),_c('li',{staticClass:\"price-li\"},[_vm._v(\"市场价：\\n        \"),_c('s',[_vm._v(\"¥\"+_vm._s(_vm.goodsDetail.market_price))]),_vm._v(\"销售价：\"),_c('span',[_vm._v(\"¥\"+_vm._s(_vm.goodsDetail.sell_price))])]),_vm._v(\" \"),_c('li',{staticClass:\"number-li\"},[_vm._v(\"购买数量：\"),_c('span',{on:{\"click\":function($event){_vm.subStract()}}},[_vm._v(\"-\")]),_c('span',{on:{\"click\":function($event){_vm.add()}}},[_vm._v(_vm._s(_vm.num))]),_vm._v(\" \"),_c('span',[_vm._v(\"+\")])])]),_vm._v(\" \"),_c('li',[_c('mt-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"立即购买\")]),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.addShopCart()}}},[_vm._v(\"加入购物车\")])],1)]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"ball\"},on:{\"after-enter\":_vm.afterEnter}},[(_vm.isShow)?_c('div',{staticClass:\"ball\"}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"product-props\"},[_c('ul',[_c('li',[_vm._v(\"商品参数\")]),_vm._v(\" \"),_c('li',[_vm._v(\"商品货号：123456\")]),_vm._v(\" \"),_c('li',[_vm._v(\"库存情况：\"+_vm._s(_vm.goodsDetail.stock_quantity)+\"件\")]),_vm._v(\" \"),_c('li',[_vm._v(\"上架时间：\"+_vm._s(_vm._f(\"filterTime\")(_vm.goodsDetail.add_time)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"product-info\"},[_c('ul',[_c('li',[_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"plain\":\"\"},on:{\"click\":function($event){_vm.showInfo()}}},[_vm._v(\"图文介绍\")])],1),_vm._v(\" \"),_c('li',[_c('mt-button',{attrs:{\"type\":\"danger\",\"size\":\"large\",\"plain\":\"\"},on:{\"click\":function($event){_vm.showComment()}}},[_vm._v(\"商品评论\")])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-86e4f39c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/GoodsDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-86e4f39c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoodsDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-86e4f39c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-86e4f39c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/GoodsDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}