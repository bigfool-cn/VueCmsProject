{"version":3,"sources":["webpack:///src/components/goods/GoodsList.vue","webpack:///./src/components/goods/GoodsList.vue?09bc","webpack:///./src/components/goods/GoodsList.vue"],"names":["GoodsList","name","data","pageIndex","goodsList","allLoaded","isAutoFill","created","_this","this","$axios","get","$host","then","res","catch","err","console","log","methods","loadBottom","loadMore","_this2","concat","$refs","loadmore","onBottomLoaded","length","goods_GoodsList","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","height","overflow","attrs","title","_v","ref","bottom-method","bottom-all-loaded","auto-fill","_l","good","index","key","to","query","id","src","face","_s","sell_price","market_price","stock_quantity","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0HAgCA,IAAAA,GACAC,KAAA,YACAC,KAFA,WAGA,OACAC,UAAA,EACAC,aACAC,WAAA,EACAC,YAAA,IAGAC,QAVA,WAUA,IAAAC,EAAAC,KAEAA,KAAAC,OAAAC,IAAAF,KAAAG,MAAA,wBAAAH,KAAAN,WACAU,KAAA,SAAAC,GAEAN,EAAAJ,UAAAU,EAAAZ,iBAEAa,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGAG,SACAC,WADA,WAGAX,KAAAY,YAEAA,SALA,WAKA,IAAAC,EAAAb,KAEAA,KAAAC,OAAAC,IAAAF,KAAAG,MAAA,2BAAAH,KAAAN,WACAU,KAAA,SAAAC,GAEAQ,EAAAlB,UAAAkB,EAAAlB,UAAAmB,OAAAT,EAAAZ,gBACAe,QAAAC,IAAA,SAEAI,EAAAE,MAAAC,SAAAC,iBACA,GAAAZ,EAAAZ,eAAAyB,SAGAL,EAAAjB,WAAA,KAIAU,MAAA,SAAAC,GACAC,QAAAC,IAAAF,QCxEAY,GADiBC,OAFjB,WAA0B,IAAAC,EAAArB,KAAasB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,OAAAC,aAAgCC,OAAA,QAAAC,SAAA,YAAsCL,EAAA,WAAgBM,OAAOC,MAAA,UAAgBV,EAAAW,GAAA,KAAAR,EAAA,eAAgCS,IAAA,WAAAH,OAAsBI,gBAAAb,EAAAV,WAAAwB,oBAAAd,EAAAzB,UAAAwC,YAAAf,EAAAxB,cAA6F2B,EAAA,MAAWE,YAAA,iCAA4CL,EAAAgB,GAAAhB,EAAA,mBAAAiB,EAAAC,GAA6C,OAAAf,EAAA,MAAgBgB,IAAAD,EAAAb,YAAA,+CAAmEF,EAAA,eAAoBM,OAAOW,IAAMjD,KAAA,eAAAkD,OAA2BC,GAAAL,EAAAK,QAAcnB,EAAA,OAAYE,YAAA,mBAAAI,OAAsCc,IAAAN,EAAAO,QAAiBxB,EAAAW,GAAA,KAAAR,EAAA,OAAwBE,YAAA,mBAA6BL,EAAAW,GAAAX,EAAAyB,GAAAR,EAAAP,UAAAV,EAAAW,GAAA,KAAAR,EAAA,OAAqDE,YAAA,SAAmBF,EAAA,OAAYE,YAAA,SAAmBF,EAAA,QAAAH,EAAAW,GAAA,IAAAX,EAAAyB,GAAAR,EAAAS,eAAA1B,EAAAW,GAAA,KAAAR,EAAA,KAAAH,EAAAW,GAAA,IAAAX,EAAAyB,GAAAR,EAAAU,mBAAA3B,EAAAW,GAAA,KAAAR,EAAA,OAAuIE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,QAAkBL,EAAAW,GAAA,uCAAAX,EAAAW,GAAA,KAAAR,EAAA,OAAsEE,YAAA,UAAoBL,EAAAW,GAAA,oBAAAX,EAAAyB,GAAAR,EAAAW,gBAAA,qCAAwF,IAErqCC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA9D,EACA4B,GATA,EAVA,SAAAmC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/7.282746f7be94aa12aed6.js","sourcesContent":["<template>\n  <div class=\"tmpl\" style=\"height: 577px;overflow:scroll;\">\n    <nav-bar title=\"商品列表\"></nav-bar>\n    <mt-loadmore :bottom-method=\"loadBottom\" :bottom-all-loaded=\"allLoaded\"\n       :auto-fill=\"isAutoFill\" ref=\"loadmore\">\n      <ul class=\"mui-table-view mui-grid-view \">\n      <li v-for=\"(good,index) in goodsList\" :key=\"index\" class=\"mui-table-view-cell mui-media mui-col-xs-6\">\n        <router-link :to=\"{name:'goods.detail',query:{id:good.id}}\">\n          <img class=\"mui-media-object\" :src=\"good.face\">\n          <div class=\"mui-media-body\">{{good.title}}</div>\n          <div class=\"desc\">\n            <div class=\"sell\">\n              <span>¥{{good.sell_price}}</span>\n              <s>¥{{good.market_price}}</s>\n            </div>\n            <div class=\"detail\">\n              <div class=\"hot\">\n                热卖中\n              </div>\n              <div class=\"count\">\n                剩{{good.stock_quantity}}件\n              </div>\n            </div>\n          </div>\n        </router-link>\n      </li>\n    </ul>\n    </mt-loadmore>\n  </div>\n</template>\n\n<script>\n    export default {\n      name: \"GoodsList\",\n      data(){\n        return{\n          pageIndex:1,//页数\n          goodsList:[],//商品列表数据\n          allLoaded:false,//是否禁止上拉函数\n          isAutoFill:false,//是否自动触发上拉函数\n        }\n      },\n      created(){\n        //首次加载第一页数据\n        this.$axios.get(this.$host+'/api/goodslist/?page='+this.pageIndex)\n          .then(res=>{\n            // console.log(res.data.data.data);\n            this.goodsList = res.data.data.data;\n          })\n          .catch(err=>{\n            console.log(err);\n          })\n      },\n      methods:{\n        loadBottom(){\n          //上拉加载更多\n          this.loadMore();\n        },\n        loadMore(){\n          //获取商品列表数据\n          this.$axios.get(this.$host+'/api/goodslist/?page='+(++this.pageIndex))\n            .then(res=>{\n              // console.log(res.data.data.data);\n              this.goodsList = this.goodsList.concat(res.data.data.data);\n              console.log('触发上拉了');\n              // 通知上拉完成\n              this.$refs.loadmore.onBottomLoaded();\n              if(res.data.data.data.length != 8)\n              {\n                //全部数据已列出，禁止再次上拉加载数据\n                this.allLoaded = true;\n              }\n\n            })\n            .catch(err=>{\n              console.log(err);\n            })\n        }\n      }\n    }\n</script>\n\n<style scoped>\n  .mui-table-view.mui-grid-view .mui-table-view-cell > a:not(.mui-btn){\n    margin: 0px;\n    padding: 0px;\n    border: 1px solid #5c5c5c;\n    box-shadow: 0 0 4px #666;\n  }\n  .sell > span{\n    float: left;\n    color:red;\n    text-align: left;\n  }\n  .detail >.hot{\n    float: left;\n    text-align: left;\n    font-size: 15px;\n  }\n  .detail >.count{\n    float: right;\n    text-align: right;\n    font-size: 15px;\n  }\n  /*撑开，去除浮动没有的高度*/\n  .detail{\n    overflow: hidden;\n  }\n  .desc{\n    color: rgba(92,92,92,0.8);\n    background-color: rgba(0,0,0,0.2);\n  }\n  .mui-table-view.mui-grid-view.mui-table-view-cell.mui-media-object{\n    height: 200px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/goods/GoodsList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tmpl\",staticStyle:{\"height\":\"577px\",\"overflow\":\"scroll\"}},[_c('nav-bar',{attrs:{\"title\":\"商品列表\"}}),_vm._v(\" \"),_c('mt-loadmore',{ref:\"loadmore\",attrs:{\"bottom-method\":_vm.loadBottom,\"bottom-all-loaded\":_vm.allLoaded,\"auto-fill\":_vm.isAutoFill}},[_c('ul',{staticClass:\"mui-table-view mui-grid-view \"},_vm._l((_vm.goodsList),function(good,index){return _c('li',{key:index,staticClass:\"mui-table-view-cell mui-media mui-col-xs-6\"},[_c('router-link',{attrs:{\"to\":{name:'goods.detail',query:{id:good.id}}}},[_c('img',{staticClass:\"mui-media-object\",attrs:{\"src\":good.face}}),_vm._v(\" \"),_c('div',{staticClass:\"mui-media-body\"},[_vm._v(_vm._s(good.title))]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_c('div',{staticClass:\"sell\"},[_c('span',[_vm._v(\"¥\"+_vm._s(good.sell_price))]),_vm._v(\" \"),_c('s',[_vm._v(\"¥\"+_vm._s(good.market_price))])]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"hot\"},[_vm._v(\"\\n              热卖中\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"count\"},[_vm._v(\"\\n              剩\"+_vm._s(good.stock_quantity)+\"件\\n            \")])])])])],1)}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-63b8e072\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/GoodsList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63b8e072\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoodsList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63b8e072\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-63b8e072\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/GoodsList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}